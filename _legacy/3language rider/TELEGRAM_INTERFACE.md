# Telegram-—Å—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üéØ –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Å—Ç–∏–ª–µ Telegram –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üé® **–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω**
- **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞**: –ö–∞–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º Telegram
- **–î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π –º–∞–∫–µ—Ç**: –ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–ª–µ–≤–∞, —Å–æ–æ–±—â–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∞
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**:
  - üü† **–û—Ä–∞–Ω–∂–µ–≤—ã–µ** - –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - üü¢ **–ó–µ–ª–µ–Ω—ã–µ** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞
  - ‚ö™ **–°–µ—Ä—ã–µ** - –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### üë• **–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (–ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å)**
- **–ê–≤–∞—Ç–∞—Ä—ã** —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏
- **–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞
- **–í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è**
- **–°—á–µ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π** –≤ –±–µ–π–¥–∂–µ
- **–ü–æ–∏—Å–∫** –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- **–í—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞** —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º

### üí¨ **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å)**
- **–ü—É–∑—ã—Ä—å–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π** –∫–∞–∫ –≤ Telegram
- **–ê–≤–∞—Ç–∞—Ä—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π** –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –º–µ–¥–∏–∞** —Ñ–∞–π–ª–æ–≤
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### üîß **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
- **–û—á–∏—Å—Ç–∫–∞ sender_id**: –£–±—Ä–∞–Ω—ã –≤–µ–¥—É—â–∏–µ –Ω—É–ª–∏ (00123 ‚Üí 123)
- **ID –±–æ—Ç–∞**: –ó–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "Bot" —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º –∞–≤–∞—Ç–∞—Ä–æ–º
- **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**: CSV –∏ JSON —Ñ–æ—Ä–º–∞—Ç—ã
- **–†—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üöÄ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

### –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
2. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Telegram"**
3. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ `/telegram-history`

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- **–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å**: –í—ã–±–æ—Ä —á–∞—Ç–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å**: –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —á–∞—Ç–∞
- **–ü–æ–∏—Å–∫**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–≠–∫—Å–ø–æ—Ä—Ç**: –í—ã–≥—Ä—É–∑–∫–∞ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- üü† **–û—Ä–∞–Ω–∂–µ–≤—ã–π** - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (outgoing)
- üü¢ **–ó–µ–ª–µ–Ω—ã–π** - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞
- ‚ö™ **–°–µ—Ä—ã–π** - –≤—Ö–æ–¥—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (incoming)

## üì± **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

### –û–±—Ä–∞–±–æ—Ç–∫–∞ sender_id
```javascript
// –£–±–∏—Ä–∞–µ–º –≤–µ–¥—É—â–∏–µ –Ω—É–ª–∏
processedSenderId = processedSenderId.replace(/^0+/, '') || '0';
// –ó–∞–º–µ–Ω—è–µ–º 0 –Ω–∞ 1
if (processedSenderId === '0') processedSenderId = '1';
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–æ—Ç–∞
if (processedSenderId.startsWith('100') || processedSenderId.length > 10) {
  processedSenderId = 'bot';
}
```

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- `/api/messages/history` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `/api/messages/history/download` - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (CSV/JSON)
- `/api/test-history-cleanup` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `TelegramHistoryPage` - –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –û–±–Ω–æ–≤–ª–µ–Ω—ã API –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ last_message –≤ —á–∞—Ç–∞—Ö
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

1. **–ü–æ—Ö–æ–∂–µ—Å—Ç—å –Ω–∞ Telegram**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
2. **–£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üîó **–°—Å—ã–ª–∫–∏**

- **–û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `/telegram-history`
- **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è**: `/history`
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: `/`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Telegram!